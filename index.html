<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>注音輸入鍵盤</title>

    <!-- PWA 基本 -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">

    <!-- iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="注音鍵盤">
    <link rel="apple-touch-icon" href="./icons/icon-192.png">

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
            margin: 0;
            background: #fafafa;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .display-area {
            flex: 0 0 120px;
            padding: 20px;
            font-size: 32px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            border-bottom: 1px solid #ddd;
        }

        /* ========== 注音鍵盤（第一版風格） ========== */
        .keyboard {
            flex: 1;
            padding: 10px;
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
        }

        button.key {
            padding: 14px 0;
            font-size: 20px;
            border-radius: 12px;
            border: none;
            background: #f2f2f7;
            box-shadow: 0 2px 0 #d1d1d6;
            transition: transform 0.1s;
        }

        button.key:active {
            transform: scale(0.92);
            background: #e5e5ea;
        }

        .bottom-row {
            grid-column: span 10;
            display: grid;
            grid-template-columns: 2fr 6fr 2fr;
            gap: 10px;
        }
    </style>
</head>
<body>

<div class="display-area" id="display"></div>

<!-- 注音鍵盤（第一版配置） -->
<div class="keyboard">
    <!-- 注音符號主鍵盤 -->
    <button class="key">ㄅ</button><button class="key">ㄆ</button><button class="key">ㄇ</button><button class="key">ㄈ</button><button class="key">ㄉ</button><button class="key">ㄊ</button><button class="key">ㄋ</button><button class="key">ㄌ</button><button class="key">ㄍ</button><button class="key">ㄎ</button>

    <button class="key">ㄏ</button><button class="key">ㄐ</button><button class="key">ㄑ</button><button class="key">ㄒ</button><button class="key">ㄓ</button><button class="key">ㄔ</button><button class="key">ㄕ</button><button class="key">ㄖ</button><button class="key">ㄗ</button><button class="key">ㄘ</button>

    <button class="key">ㄙ</button><button class="key">ㄧ</button><button class="key">ㄨ</button><button class="key">ㄩ</button><button class="key">ㄚ</button><button class="key">ㄛ</button><button class="key">ㄜ</button><button class="key">ㄝ</button><button class="key">ㄞ</button><button class="key">ㄟ</button>

    <button class="key">ㄠ</button><button class="key">ㄡ</button><button class="key">ㄢ</button><button class="key">ㄣ</button><button class="key">ㄤ</button><button class="key">ㄥ</button><button class="key">ㄦ</button><button class="key">ˉ</button><button class="key">ˊ</button><button class="key">ˇ</button>

    <button class="key">ˋ</button><button class="key">˙</button>

    <!-- 下方功能鍵 -->
    <div class="bottom-row">
        <button class="key" id="delete">刪除</button>
        <button class="key" id="space">空格</button>
        <button class="key" id="enter">送出</button>
    </div>
</div>

<script>
const display = document.getElementById("display");
document.querySelectorAll(".key").forEach(btn => {
    btn.addEventListener("click", () => {
        const val = btn.textContent;
        if (btn.id === "delete") {
            display.textContent = display.textContent.slice(0, -1);
            return;
        }
        if (btn.id === "space") {
            display.textContent += " ";
            return;
        }
        if (btn.id === "enter") {
            alert("輸出內容： " + display.textContent);
            return;
        }

        display.textContent += val;
    });
});

/* PWA 註冊 */
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>